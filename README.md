[https://peerbridge.herokuapp.com](https://peerbridge.herokuapp.com/)

UNDER DEVELOPMENT

```bash
$ curl --header "Content-Type: application/json" http://localhost:8080/messages/new --data '{"privateKey": "-----BEGIN RSA PRIVATE KEY-----\nMIIEogIBAAKCAQEA31qounIbnDNXw0AgdpfiFNBzaoR+QDsRV1JSy3euotRSDszY\njEus93sfleScZNwx8IucceRJ77t0L7YeSp9dzRy69Y/zsX3k3X7czHkvM1CS/xx5\nnLbl77ie8Jn2GtSdPcVPeww4z9n7NB6ysvRQS1aFQ97Gx3l7Wl3Kd6B/rywKVTmg\njd+Nh6Kkl1+QMaaq6UhQKwqpcv07A+WUXmWIYgj/f5s2kao7XcC/6jBm8E7yj6OI\nmAs4giWL4jufDrmrwtM6zfTCnGV7MfgR6qpDo6e6xxBCsxYYIWMmxIFWjfU6i7C2\n9S3zXes+p7VppvPLq3nuqWmkoamcrVYhXY6w5wIDAQABAoIBABGA+VgjOSa0n1wd\n2m1w2bbn3yOp3nsKJgHB4dswNe9s1EF0rEPSamu6qm8Ey3zcBM3lIw2J5oFzH1fd\n3eHbO26nob882MxAIX96QbOEi75pwhtcD+vIKZzvywTwC+luYCRHIkNyYcFoQ9eB\n0F9V5jUBQtBe1RUs4A3k68kUOu1vUKHfl+4T3L/FiA0BG/cpCG2aAShGH/35QNij\nafmC6UVdcQEA26wqRiYYOMWWKPeOMIiqCLPHOJFdH1xUQHXFGt2/wSg/FIvbOQvD\nOzwa0mFcptd9KTMm6YoLknNb7plUmvAYceqdqRX0QYInBfBrGg8kvMAt0fnJ34gF\nZLDUTgECgYEA6NZbpjHmB7viXHAtMtbYRZcJkANrqTgREaur5C/+Ty7C2zsy1VTy\nH/9Ki/T8wBl1oLy6T8fDlIzmuiDpXK+L7Inch3R+6O5nO6/hNuSCJVxc1GdMGbCB\nQYZR5mdstb/qjO3TKgCccNdeywlaB73afZBPVzI7+EmOrmlqZAIhJbcCgYEA9ZLL\nJYpwm/Hq9RX+FF6LbPc1PgwkkfhEvmJhbvBaUxsDoY2vhhInpIWe7q8TBqdwcWHv\niKxlVJOqcmFwuX+ZYPluYZrYGoe5awXdFhKdbWwGs+y5wh2w6n7mXFRje9twi+MU\nenXJJqHL4Vrw6R2utt3RebZzvxrnbPmB1cUMTlECgYA4wkiFMxTIPdzoe9AI3KbM\nEA2ctbjA/5HppNe6QJjV5KhLmRrDNnnvouQhSg9zJMGv9VHVsPTUeaSlKvC4T3Lk\nrpa7zoJBdhxkSHO2Ve4D/YgDn0rF2Gkp9/xvFjdB9w7OXAtl6dA5Ecdh512zFWz1\nvwAYWX6VABlwGvJ8fqhl8QKBgDyAJ9Bd5RRma25qNqiqCkuUM+fPcgsMUVNeRYbh\nbD9hPmnE0GOFgYLE8Lz5IQTYp5knea4AWw6VOr7nRrBMwWrkyM7/KRKQMZwuW6Oe\nfm6A2L3nKnSqf/WlwfcpS0EudPHhxh/NePstjV892nB0QaEH0R3dV3LTnAR7DAOw\ngjGhAoGAfyJ/mRdU5s6Kx9Qyjap74uVjsJyjafBf15GGZU3dQol4Ml2ZcjmwJyMG\n3mrEOyJ6H/a0rWjY2/yvvTGYE4vAEeNKgxQluF2T34p3DATZ3IATTmOeGxRFExH+\nclBXRwsUtchAUzfv5NnGpDoUgjj/h/m7Ewq9rt6g51yIcj72pi8=\n-----END RSA PRIVATE KEY-----\n", "publicKey": "-----BEGIN RSA PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA31qounIbnDNXw0Agdpfi\nFNBzaoR+QDsRV1JSy3euotRSDszYjEus93sfleScZNwx8IucceRJ77t0L7YeSp9d\nzRy69Y/zsX3k3X7czHkvM1CS/xx5nLbl77ie8Jn2GtSdPcVPeww4z9n7NB6ysvRQ\nS1aFQ97Gx3l7Wl3Kd6B/rywKVTmgjd+Nh6Kkl1+QMaaq6UhQKwqpcv07A+WUXmWI\nYgj/f5s2kao7XcC/6jBm8E7yj6OImAs4giWL4jufDrmrwtM6zfTCnGV7MfgR6qpD\no6e6xxBCsxYYIWMmxIFWjfU6i7C29S3zXes+p7VppvPLq3nuqWmkoamcrVYhXY6w\n5wIDAQAB\n-----END RSA PUBLIC KEY-----\n", "receiverPublicKey": "-----BEGIN RSA PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA31qounIbnDNXw0Agdpfi\nFNBzaoR+QDsRV1JSy3euotRSDszYjEus93sfleScZNwx8IucceRJ77t0L7YeSp9d\nzRy69Y/zsX3k3X7czHkvM1CS/xx5nLbl77ie8Jn2GtSdPcVPeww4z9n7NB6ysvRQ\nS1aFQ97Gx3l7Wl3Kd6B/rywKVTmgjd+Nh6Kkl1+QMaaq6UhQKwqpcv07A+WUXmWI\nYgj/f5s2kao7XcC/6jBm8E7yj6OImAs4giWL4jufDrmrwtM6zfTCnGV7MfgR6qpD\no6e6xxBCsxYYIWMmxIFWjfU6i7C29S3zXes+p7VppvPLq3nuqWmkoamcrVYhXY6w\n5wIDAQAB\n-----END RSA PUBLIC KEY-----\n", "sessionKey": [251,141,110,165,55,173,202,33,104,206,253,112,118,54,42,110,113,24,64,100,93,232,83,164,129,138,109,59,164,105,135,254], "content": "Incroyable"}'
```

### Documentation

Launch a local http server with the code documentation using

```bash
$ godoc -http=:6060
```

Then navigate to [localhost:6060/pkg/github.com/peerbridge/peerbridge/](http://localhost:6060/pkg/github.com/peerbridge/peerbridge/)

### Deployment

#### Docker

As we are leveraging [BuildKit](https://github.com/moby/buildkit), you will need to make sure that you enable it by using Docker 19.03 or later and setting `DOCKER_BUILDKIT=1` in your environment. On Linux, macOS, or using WSL 2 you can do this using the following command:

```bash
$ export DOCKER_BUILDKIT=1
```

(You might also want to add this to your `.bashrc/.zshrc` file using `echo export DOCKER_BUILDKIT=1 > ~/.bashrc`)

On Windows for PowerShell you can use:
```powershell
$env:DOCKER_BUILDKIT=1
```

Or for command prompt:
```cmd
set DOCKER_BUILDKIT=1
```

We build two different stages for Unix-like OSes  (bin-unix) and for Windows (bin-windows).
We add aliases for Linux (bin-linux) and macOS (bin-darwin).
This allows us to make a dynamic target (bin) that depends on the `TARGETOS` variable and is automatically
set by the docker build platform flag.

Then simply build the application

Unix-like OSes (incl. Linux/MacOS):

```bash
$ make build
$ file bin/peerbridge
bin/peerbridge: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib/ld-, not stripped
```

Microsoft Windows:

```bash
$ make build-windows
$ file bin/peerbridge.exe
bin/peerbridge.exe: PE32+ executable (console) x86-64 (stripped to external PDB), for MS Windows
```
